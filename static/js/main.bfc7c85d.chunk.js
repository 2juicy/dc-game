(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/player_walk.9f19440f.png"},21:function(e,t,n){e.exports=n(33)},26:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=(n(26),n(6)),l=n(7),u=n(10),s=n(9),p=n(11),d=n(2),m=40,f=10*m,E=20*m;n(31);function y(e){switch(e){case 0:return"grass";case 3:return"tree";case 4:return"chest";case 5:return"rock";case 6:return"tree"}}function h(e){return r.a.createElement("div",{className:"tile ".concat(y(e.tile)),style:{height:m,width:m}})}function b(e){return r.a.createElement("div",{className:"row",style:{height:m}},e.tiles.map(function(e){return r.a.createElement(h,{tile:e})}))}var v=Object(d.b)(function(e){return{tiles:e.map.tiles}})(function(e){return r.a.createElement("div",{style:{position:"relative",top:"0px",left:"0px",width:"800px",height:"480px",border:"2.5px solid gray"}},e.tiles.map(function(e){return r.a.createElement(b,{tiles:e})}))}),O=n(1),g=n(19),T=n.n(g);var w=Object(d.b)(function(e){return Object(O.a)({},e.player)},function(e){return{move:function(t){e({type:"MOVE_PLAYER",payload:t})}}})(function(e){return r.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(T.a,"')"),backgroundPosition:e.spriteLocation,width:"".concat(m,"px"),height:"".concat(m,"px")}})}),A=n(5),S={position:[0,0],spriteLocation:"0px 0px",direction:"EAST",walkIndex:0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":return Object(O.a)({},e,t.payload);case"UPDATE_WALK_INDEX":return Object(O.a)({},e,{walkIndex:t.payload});default:return e}},x={tiles:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILES":return Object(O.a)({},t.payload);default:return e}},k={visible:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_COMBAT":return Object(O.a)({visible:!0},t.payload);case"END_COMBAT":return{visible:!1};default:return e}},N=Object(A.b)({player:_,map:j,combat:D}),M=Object(A.c)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),C=n(20);function L(e,t){return Array.apply(0,Array(t+1-e)).map(function(t,n){return n+e})}function R(e){return e[Math.floor(Math.random()*e.length)]}function I(e,t){var n=R(e);return Object(O.a)({},n,{hp:parseInt(n.const*R(L.apply(void 0,Object(C.a)(t))))})}var B=Object(d.b)(function(e){return{map:e.map,enemy:I(e.map.enemies,e.map.levelRange)}})(function(e){return console.log(e.enemy),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"menu"},r.a.createElement("img",{src:"buttons/spacebar.png",alt:"Attack"}),r.a.createElement("div",null,r.a.createElement("h4",null,"to attack"))),r.a.createElement("div",{className:"enemy"},r.a.createElement("img",{src:"enemies/".concat(e.enemy.image),alt:"Enemy"}),r.a.createElement("h4",null,"HP: ",e.enemy.hp)))});n(32);function H(e){window.addEventListener("keydown",function(t){e.visible&&function(e){switch(e.preventDefault(),e.keyCode){case 37:return console.log("WEST");case 38:return console.log("NORTH");case 39:return console.log("EAST");case 40:return console.log("SOUTH");case 32:return M.dispatch({type:"END_COMBAT"});default:console.log(e.keyCode)}}(t)})}var U=Object(d.b)(function(e){return Object(O.a)({},e.combat)},function(e){return{startCombat:function(){e({type:"START_COMBAT"})},endCombat:function(){e({type:"END_COMBAT"})}}})(function(e){return H(e),r.a.createElement("div",{style:{display:e.visible?"block":"none"},className:"modal"},r.a.createElement("h1",null,e.type),r.a.createElement("div",null,function(e){switch(e.type){case"COMBAT":return r.a.createElement(B,null)}}(e)))}),P={tiles:[[0,0,0,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6],[6,0,0,5,5,5,5,6,6,6,6,6,6,6,6,6,6,5,5,6],[6,6,0,0,6,5,6,6,0,0,6,6,0,0,6,6,0,4,5,6],[6,6,0,0,6,6,6,6,6,0,0,0,0,5,6,6,0,0,5,6],[6,6,0,0,0,6,6,6,6,0,0,6,5,5,6,6,6,3,6,6],[6,5,5,5,0,0,6,0,6,0,0,6,5,6,6,6,6,3,6,6],[6,6,5,5,0,0,0,0,0,0,0,6,6,6,0,0,0,0,6,6],[6,6,6,6,6,0,0,6,6,6,0,0,6,0,0,6,6,0,6,5],[6,6,6,0,0,0,0,6,6,0,0,0,0,0,0,5,6,6,5,5],[6,6,6,6,0,0,6,6,6,0,0,6,0,0,5,5,6,6,5,5],[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5],[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5]],enemies:[{name:"Wolf",image:"wolf.png",str:16,int:9,wisdom:9,dex:12,const:18},{name:"Spider",image:"spider.png",str:10,int:15,wisdom:13,dex:14,const:11}],levelRange:[1,4]};function W(e,t){var n=function(e){return e[0]>=0&&e[0]<=E-m&&e[1]>=0&&e[1]<=f-m}(t);return n&&(n=function(e){var t=M.getState().map.tiles,n=e[1]/m,a=e[0]/m;return t[n][a]<5}(t)),n&&M.dispatch({type:"UPDATE_WALK_INDEX",payload:J()}),10===Math.floor(10*Math.random()+1)&&M.dispatch({type:"START_COMBAT",payload:{type:"COMBAT"}}),n?t:e}function X(e,t){switch(t){case"WEST":return W(e,[e[0]-m,e[1]]);case"EAST":return W(e,[e[0]+m,e[1]]);case"NORTH":return W(e,[e[0],e[1]-m]);case"SOUTH":return W(e,[e[0],e[1]+m]);default:return[e[0],e[1]]}}function V(e){var t=M.getState().player.walkIndex;switch(e){case"SOUTH":return"".concat(m*t,"px ").concat(0*m,"px");case"EAST":return"".concat(m*t,"px ").concat(1*m,"px");case"WEST":return"".concat(m*t,"px ").concat(2*m,"px");case"NORTH":return"".concat(m*t,"px ").concat(3*m,"px")}}function Y(e){var t=M.getState();M.dispatch({type:"MOVE_PLAYER",payload:{position:X(t.player.position,e),direction:e,spriteLocation:V(e)}})}function J(){var e=M.getState().player.walkIndex;return e>=7?0:e+1}var K,q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.persistMapData(P)}},{key:"render",value:function(){return r.a.createElement("div",{className:"map",style:{position:"relative",width:E,height:f,margin:"20px auto"}},r.a.createElement(v,this.props.map),r.a.createElement(w,null),r.a.createElement(U,null))}}]),t}(r.a.Component),z=Object(d.b)(function(e){return{map:e.map}},function(e){return{persistMapData:function(t){e({type:"ADD_TILES",payload:t})}}})((K=q,window.addEventListener("keydown",function(e){M.getState().combat.visible||function(e){switch(e.preventDefault(),e.keyCode){case 37:return Y("WEST");case 38:return Y("NORTH");case 39:return Y("EAST");case 40:return Y("SOUTH");default:console.log(e.keyCode)}}(e)}),K)),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(z,null)}}]),t}(a.Component);o.a.render(r.a.createElement(d.a,{store:M},r.a.createElement(F,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.bfc7c85d.chunk.js.map
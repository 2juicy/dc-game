(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/player_walk.9f19440f.png"},21:function(e,t,n){e.exports=n(34)},26:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=(n(26),n(6)),l=n(7),u=n(10),s=n(9),p=n(11),m=n(2),d=40,E=10*d,f=20*d;n(31);function y(e){switch(e){case 0:return"grass";case 3:return"tree";case 4:return"chest";case 5:return"rock";case 6:return"tree"}}function h(e){return r.a.createElement("div",{className:"tile ".concat(y(e.tile)),style:{height:d,width:d}})}function v(e){return r.a.createElement("div",{className:"row",style:{height:d}},e.tiles.map(function(e){return r.a.createElement(h,{tile:e})}))}var b=Object(m.b)(function(e){return{tiles:e.map.tiles}})(function(e){return r.a.createElement("div",{style:{position:"relative",top:"0px",left:"0px",width:"800px",height:"480px",border:"2.5px solid gray"}},e.tiles.map(function(e){return r.a.createElement(v,{tiles:e})}))}),g=n(1),O=n(19),T=n.n(O);var w=Object(m.b)(function(e){return Object(g.a)({},e.player)},function(e){return{move:function(t){e({type:"MOVE_PLAYER",payload:t})}}})(function(e){return r.a.createElement("div",{style:{position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(T.a,"')"),backgroundPosition:e.spriteLocation,width:"".concat(d,"px"),height:"".concat(d,"px")}})}),S=n(5),A={position:[0,0],spriteLocation:"0px 0px",direction:"EAST",walkIndex:0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":return Object(g.a)({},e,t.payload);case"UPDATE_WALK_INDEX":return Object(g.a)({},e,{walkIndex:t.payload});default:return e}},x={tiles:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILES":return Object(g.a)({},t.payload);default:return e}},N={visible:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_COMBAT":return Object(g.a)({visible:!0},t.payload);case"END_COMBAT":return{visible:!1};default:return e}},D=Object(S.b)({player:_,map:j,modal:k}),M=Object(S.c)(D,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),L=n(20);function C(e,t){return Array.apply(0,Array(t+1-e)).map(function(t,n){return n+e})}function R(e){return e[Math.floor(Math.random()*e.length)]}n(32);function I(e,t){var n=R(e);return Object(g.a)({},n,{hp:parseInt(n.const*R(C.apply(void 0,Object(L.a)(t))))})}var H=Object(m.b)(function(e){return{map:e.map,enemy:I(e.map.enemies,e.map.levelRange)}})(function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"player"},r.a.createElement("h4",null,"You"),r.a.createElement("img",{src:"enemies/player.png",alt:"Enemy"}),r.a.createElement("h4",null,"HP: 100 | Lvl: 10")),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"menu-item"},r.a.createElement("img",{src:"buttons/ctrl.png",alt:"Heal"}),r.a.createElement("div",null,r.a.createElement("h4",null,"to heal"))),r.a.createElement("div",{className:"menu-item"},r.a.createElement("img",{src:"buttons/spacebar.png",alt:"Attack"}),r.a.createElement("div",null,r.a.createElement("h4",null,"to attack"))),r.a.createElement("h4",{className:"combat-text"},"Damage: 100"),r.a.createElement("h4",{className:"combat-text"},"A wild ",e.enemy.name," appears!")),r.a.createElement("div",{className:"enemy"},r.a.createElement("h4",null,e.enemy.name),r.a.createElement("img",{src:"enemies/".concat(e.enemy.image),alt:"Enemy"}),r.a.createElement("h4",null,"HP: ",e.enemy.hp," | Lvl: ",e.enemy.hp/e.enemy.const)))});n(33);function B(e){switch(e.preventDefault(),e.keyCode){case 37:return console.log("WEST");case 38:return console.log("NORTH");case 39:return console.log("EAST");case 40:return console.log("SOUTH");case 32:return void M.dispatch({type:"END_COMBAT"});default:console.log(e.keyCode)}}var P,U=Object(m.b)(function(e){return Object(g.a)({},e.modal)},function(e){return{startCombat:function(){e({type:"START_COMBAT"})},endCombat:function(){e({type:"END_COMBAT"})}}})((P=function(e){return r.a.createElement("div",{style:{display:e.visible?"block":"none"},className:"modal"},r.a.createElement("h1",null,"COMBAT"),r.a.createElement("div",null,e.visible?r.a.createElement(H,null):null))},console.log(M.getState()),window.addEventListener("keydown",function(e){M.getState().modal.visible&&B(e)}),P)),W={tiles:[[0,0,0,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6],[6,0,0,5,5,5,5,6,6,6,6,6,6,6,6,6,6,5,5,6],[6,6,0,0,6,5,6,6,0,0,6,6,0,0,6,6,0,4,5,6],[6,6,0,0,6,6,6,6,6,0,0,0,0,5,6,6,0,0,5,6],[6,6,0,0,0,6,6,6,6,0,0,6,5,5,6,6,6,3,6,6],[6,5,5,5,0,0,6,0,6,0,0,6,5,6,6,6,6,3,6,6],[6,6,5,5,0,0,0,0,0,0,0,6,6,6,0,0,0,0,6,6],[6,6,6,6,6,0,0,6,6,6,0,0,6,0,0,6,6,0,6,5],[6,6,6,0,0,0,0,6,6,0,0,0,0,0,0,5,6,6,5,5],[6,6,6,6,0,0,6,6,6,0,0,6,0,0,5,5,6,6,5,5],[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5],[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5]],enemies:[{name:"Slime",image:"slime.png",const:6},{name:"Spider",image:"spider.png",const:10},{name:"Wolf",image:"wolf.png",const:15}],levelRange:[1,4]};function X(e,t){var n=function(e){return e[0]>=0&&e[0]<=f-d&&e[1]>=0&&e[1]<=E-d}(t);return n&&(n=function(e){var t=M.getState().map.tiles,n=e[1]/d,a=e[0]/d;return t[n][a]<5}(t)),n&&M.dispatch({type:"UPDATE_WALK_INDEX",payload:K()}),10===Math.floor(10*Math.random()+1)&&M.dispatch({type:"START_COMBAT"}),n?t:e}function V(e,t){switch(t){case"WEST":return X(e,[e[0]-d,e[1]]);case"EAST":return X(e,[e[0]+d,e[1]]);case"NORTH":return X(e,[e[0],e[1]-d]);case"SOUTH":return X(e,[e[0],e[1]+d]);default:return[e[0],e[1]]}}function Y(e){var t=M.getState().player.walkIndex;switch(e){case"SOUTH":return"".concat(d*t,"px ").concat(0*d,"px");case"EAST":return"".concat(d*t,"px ").concat(1*d,"px");case"WEST":return"".concat(d*t,"px ").concat(2*d,"px");case"NORTH":return"".concat(d*t,"px ").concat(3*d,"px")}}function J(e){var t=M.getState();M.dispatch({type:"MOVE_PLAYER",payload:{position:V(t.player.position,e),direction:e,spriteLocation:Y(e)}})}function K(){var e=M.getState().player.walkIndex;return e>=7?0:e+1}var q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.persistMapData(W)}},{key:"render",value:function(){return r.a.createElement("div",{className:"map",style:{position:"relative",width:f,height:E,margin:"20px auto"}},r.a.createElement(b,this.props.map),r.a.createElement(w,null),r.a.createElement(U,null))}}]),t}(r.a.Component),z=Object(m.b)(function(e){return{map:e.map}},function(e){return{persistMapData:function(t){e({type:"ADD_TILES",payload:t})}}})(function(e){return window.addEventListener("keydown",function(e){M.getState().modal.visible||function(e){switch(e.preventDefault(),e.keyCode){case 37:return J("WEST");case 38:return J("NORTH");case 39:return J("EAST");case 40:return J("SOUTH");default:console.log(e.keyCode)}}(e)}),e}(q)),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(z,null)}}]),t}(a.Component);o.a.render(r.a.createElement(m.a,{store:M},r.a.createElement(F,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e94a628e.chunk.js.map